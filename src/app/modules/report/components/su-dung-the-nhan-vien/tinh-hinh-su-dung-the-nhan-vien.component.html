<div class="bg-white width-screen">
  <div class="container-toolbar">
    <div class="left-toolbar d-flex gap-2 align-items-center">
      <span class="icon-Files-55 fs-24 text-common-black fw-600"></span>
      <span class="text-common-black fw-600 fs-16">Báo cáo</span>
      <span class="text-common-black fw-500 fs-16">></span>
      <span class="text-common-black fw-500 fs-16">Tình hình sử dụng thẻ nhân viên</span>
    </div>
    <div class="right-toolbar">
      <div class="button-toolbar">
        <span class="icon-General-163"></span>
        <span>In</span>
      </div>
      <div class="button-toolbar">
        <span class="icon-General-101"></span>
        <span>Tải xuống</span>
      </div>
    </div>
  </div>
  <div>
    <div class="container-group">
      <div  class="border-end ps-3" style="overflow: auto;" [ngStyle]="{'height':height - 125 + 'px','width':'width'}">
        <div  class="container-sidebar pe-4 pt-2 position-relative" [ngStyle]="{height: '100%'}">
            <div class="top">
              <div class="d-flex justify-content-between title">
                <span>Lọc dữ liệu</span>
                <i class='icon-Arrows-63' (click)="onHideFilter()"></i>
              </div>
    
              <div class="text-common-black fw-500 pt-4 fs-14 pb-1">Từ ngày</div>
    
              <div class="position-relative date">
                <input id="datepicker" type="text" name="holidayDate" mwlFlatpickr [(ngModel)]="Birthday" [altInput]="false"
                  [convertModelValue]="false" [enableTime]="false" defaultDate="2016-10-20" dateFormat="d-m-Y"
                  altFormat="F j, Y" placeholder="Ngày hiệu lực">
                <div class="icon-date">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path
                      d="M21 10H3M16 2V6M8 2V6M7.8 22H16.2C17.8802 22 18.7202 22 19.362 21.673C19.9265 21.3854 20.3854 20.9265 20.673 20.362C21 19.7202 21 18.8802 21 17.2V8.8C21 7.11984 21 6.27976 20.673 5.63803C20.3854 5.07354 19.9265 4.6146 19.362 4.32698C18.7202 4 17.8802 4 16.2 4H7.8C6.11984 4 5.27976 4 4.63803 4.32698C4.07354 4.6146 3.6146 5.07354 3.32698 5.63803C3 6.27976 3 7.11984 3 8.8V17.2C3 18.8802 3 19.7202 3.32698 20.362C3.6146 20.9265 4.07354 21.3854 4.63803 21.673C5.27976 22 6.11984 22 7.8 22Z"
                      stroke="#626262" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </div>
              </div>
    
    
              <div class="text-common-black fw-500 fs-14 pt-4 pb-1">Đến ngày</div>
              <div class="position-relative date">
                <input id="datepicker" type="text" name="holidayDate" mwlFlatpickr [(ngModel)]="Birthday" [altInput]="false"
                  [convertModelValue]="false" [enableTime]="false" defaultDate="2016-10-20" dateFormat="d-m-Y"
                  altFormat="F j, Y" placeholder="Ngày hiệu lực">
                <div class="icon-date">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path
                      d="M21 10H3M16 2V6M8 2V6M7.8 22H16.2C17.8802 22 18.7202 22 19.362 21.673C19.9265 21.3854 20.3854 20.9265 20.673 20.362C21 19.7202 21 18.8802 21 17.2V8.8C21 7.11984 21 6.27976 20.673 5.63803C20.3854 5.07354 19.9265 4.6146 19.362 4.32698C18.7202 4 17.8802 4 16.2 4H7.8C6.11984 4 5.27976 4 4.63803 4.32698C4.07354 4.6146 3.6146 5.07354 3.32698 5.63803C3 6.27976 3 7.11984 3 8.8V17.2C3 18.8802 3 19.7202 3.32698 20.362C3.6146 20.9265 4.07354 21.3854 4.63803 21.673C5.27976 22 6.11984 22 7.8 22Z"
                      stroke="#626262" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </div>
              </div>
              <div>
                <div class="text-common-black fw-500 pt-4 fs-14 pb-1">Nhóm phụ nhân viên</div>
                <app-combobox fieldName="" [dataSource]=""></app-combobox>
              </div>
              <div>
                <div class="text-common-black fw-500 pt-4 fs-14 pb-1">Phòng ban</div>
                <app-combobox fieldName="" [dataSource]=""></app-combobox>
              </div>
            </div>
            <div class="bottom">
              <div class="button-toolbar w-50 d-flex justify-content-center float-end">
                <!-- <span class="icon-General-101"></span> -->
                <span>Áp dụng</span>
              </div>
            </div>
            
        </div>
      </div>
      <div class="p-2" [ngStyle]="{'width': width + 'px'}">
        
        <div class="mt-2">
          <grid-view [totalItems]="TotalItems" (clickPage)="ClickPageEmp($event)" [template]="templateGrid"></grid-view>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #templateGrid>
  <ejs-grid #grid allowTextWrap='true' [height]="height - 230" [dataSource]='listEmployee' [allowSorting]="true">
    <e-columns>
      <e-column headerText="Mã Nhân viên" textAlign='Left' width=150>
        <ng-template #template let-item>
          <div class="text-start">{{item.EmployeeCode}}</div>
        </ng-template>
      </e-column>

      <e-column headerText="V3ID" textAlign='Left' width=140>
        <ng-template #template let-item>
          <div class="text-start">{{item.BarCode}}</div>
        </ng-template>
      </e-column>

      <e-column headerText="BU" textAlign='Left' width=140>
        <ng-template #template let-item>
          <span class="text-start">{{item.BU}}</span>
        </ng-template>
      </e-column>

      <e-column headerText="Họ và tên (VN)" width=180 textAlign='Left'>
        <ng-template #template let-item>
          <div class="d-flex align-items-center gap-2">
            <img width="40" height="40" [src]="getPhoto(item.EmployeeCode)" alt="" srcset="">
            <span class="text-start">{{item.EmployeeName}}</span>
          </div>
        </ng-template>
      </e-column>
      <e-column headerText="Phòng ban" textAlign='Left' width=180>
        <ng-template #template let-item>
          <span class="text-start">{{item.DepartmentCode}}</span>
        </ng-template>
      </e-column>
      <e-column headerText="Ngày nhận việc" textAlign='Left' width=180>
        <ng-template #template let-item>
          <span class="text-start">{{item.JoinDate | date:'dd/MM/yyyy'}}</span>
        </ng-template>
      </e-column>
      <e-column headerText="Nhóm phụ nhân viên" width=200 textAlign='Left'>
        <ng-template #template let-item>
          <div class="d-flex justify-content-center">
            <div class="d-flex gap-2 align-items-center" [ngClass]="{
                  'Staff': item.Status == 0 || true,
                  'DL': item.Status == 1,
                  'IDL': item.Status == 2,
                  }">
              <span class="icon-Users-11"></span>
              <div>{{item.NhomPhu}}</div>
            </div>
          </div>
        </ng-template>
      </e-column>
      <e-column headerText="Tình trạng" width=120 textAlign='Left'>
        <ng-template #template let-item>
          <div [ngClass]="{'status0': item.Status == 0,'status1': item.Status == 1}">
            <ng-container>{{item.TinhTrang}}</ng-container>
          </div>
        </ng-template>
      </e-column>
      <e-column headerText="CostCenter" textAlign='Left' width=150>
        <ng-template #template let-item>
          <span class="text-start">{{item.CostCenter}}</span>
        </ng-template>
      </e-column>
      <e-column headerText="Transaction Entry" textAlign='Left' width=180>
        <ng-template #template let-item>
          <span class="text-start">{{item.TranSactionEntry}}</span>
        </ng-template>
      </e-column>
      <e-column headerText="Location" textAlign='Left' width=150>
        <ng-template #template let-item>
          <span class="text-start">{{item.Location}}</span>
        </ng-template>
      </e-column>
      <e-column headerText="EmployeeType" textAlign='Left' width=150>
        <ng-template #template let-item>
          <span class="text-start">{{item.EmployeeType}}</span>
        </ng-template>
      </e-column>
      <e-column headerText="EmployeeCategory" textAlign='Left' width=180>
        <ng-template #template let-item>
          <span class="text-start">{{item.EmployeeCategory}}</span>
        </ng-template>
      </e-column>
    </e-columns>
  </ejs-grid>
</ng-template>