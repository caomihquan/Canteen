<div class="bg-white width-screen">
  <div class="container-toolbar">
    <div class="left-toolbar d-flex gap-2 align-items-center">
      <span class="icon-Files-55 fs-24 text-common-black fw-600"></span>
      <span class="text-common-black fw-600 fs-16">Báo cáo</span>
      <span class="text-common-black fw-500 fs-16">></span>
      <span class="text-common-black fw-500 fs-16">Thống kê thanh toán theo line</span>
    </div>
    <div class="right-toolbar">
      <!-- <div class="button-toolbar">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path d="M18 7V5.2C18 4.0799 18 3.51984 17.782 3.09202C17.5903 2.71569 17.2843 2.40973 16.908 2.21799C16.4802 2 15.9201 2 14.8 2H9.2C8.0799 2 7.51984 2 7.09202 2.21799C6.71569 2.40973 6.40973 2.71569 6.21799 3.09202C6 3.51984 6 4.0799 6 5.2V7M6 18C5.07003 18 4.60504 18 4.22354 17.8978C3.18827 17.6204 2.37962 16.8117 2.10222 15.7765C2 15.395 2 14.93 2 14V11.8C2 10.1198 2 9.27976 2.32698 8.63803C2.6146 8.07354 3.07354 7.6146 3.63803 7.32698C4.27976 7 5.11984 7 6.8 7H17.2C18.8802 7 19.7202 7 20.362 7.32698C20.9265 7.6146 21.3854 8.07354 21.673 8.63803C22 9.27976 22 10.1198 22 11.8V14C22 14.93 22 15.395 21.8978 15.7765C21.6204 16.8117 20.8117 17.6204 19.7765 17.8978C19.395 18 18.93 18 18 18M15 10.5H18M9.2 22H14.8C15.9201 22 16.4802 22 16.908 21.782C17.2843 21.5903 17.5903 21.2843 17.782 20.908C18 20.4802 18 19.9201 18 18.8V17.2C18 16.0799 18 15.5198 17.782 15.092C17.5903 14.7157 17.2843 14.4097 16.908 14.218C16.4802 14 15.9201 14 14.8 14H9.2C8.0799 14 7.51984 14 7.09202 14.218C6.71569 14.4097 6.40973 14.7157 6.21799 15.092C6 15.5198 6 16.0799 6 17.2V18.8C6 19.9201 6 20.4802 6.21799 20.908C6.40973 21.2843 6.71569 21.5903 7.09202 21.782C7.51984 22 8.07989 22 9.2 22Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        <span>In</span>
      </div> -->
      <div class="button-toolbar" (click)="Export()">
        <span class="icon-General-101"></span>
        <span>Tải xuống</span>
      </div>
    </div>
  </div>
  <div>
    <div class="container-group">
      <div  class="border-end ps-3" style="overflow: auto;" [ngStyle]="{'height':height - 125 + 'px','width':'width'}">
        <div  class="container-sidebar pe-4 pt-2 position-relative" [ngStyle]="{height: '100%'}">
            <div class="top">
              <div class="d-flex justify-content-between title">
                <span>Lọc dữ liệu</span>
                <i class='icon-Arrows-63' (click)="onHideFilter()"></i>
              </div>
    
              <!-- <div class="text-common-black fw-500 pt-4 fs-14 pb-1">Từ ngày</div>
    
              <div class="position-relative date">
                <input id="datepicker" type="text" name="holidayDate" mwlFlatpickr [(ngModel)]="Birthday" [altInput]="false"
                  [convertModelValue]="false" [enableTime]="false" defaultDate="2016-10-20" dateFormat="d-m-Y"
                  altFormat="F j, Y" placeholder="Ngày hiệu lực">
                <div class="icon-date">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path
                      d="M21 10H3M16 2V6M8 2V6M7.8 22H16.2C17.8802 22 18.7202 22 19.362 21.673C19.9265 21.3854 20.3854 20.9265 20.673 20.362C21 19.7202 21 18.8802 21 17.2V8.8C21 7.11984 21 6.27976 20.673 5.63803C20.3854 5.07354 19.9265 4.6146 19.362 4.32698C18.7202 4 17.8802 4 16.2 4H7.8C6.11984 4 5.27976 4 4.63803 4.32698C4.07354 4.6146 3.6146 5.07354 3.32698 5.63803C3 6.27976 3 7.11984 3 8.8V17.2C3 18.8802 3 19.7202 3.32698 20.362C3.6146 20.9265 4.07354 21.3854 4.63803 21.673C5.27976 22 6.11984 22 7.8 22Z"
                      stroke="#626262" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </div>
              </div> -->
    
    
              <!-- <div class="text-common-black fw-500 fs-14 pt-4 pb-1">Đến ngày</div>
              <div class="position-relative date">
                <input id="datepicker" type="text" name="holidayDate" mwlFlatpickr [(ngModel)]="Birthday" [altInput]="false"
                  [convertModelValue]="false" [enableTime]="false" defaultDate="2016-10-20" dateFormat="d-m-Y"
                  altFormat="F j, Y" placeholder="Ngày hiệu lực">
                <div class="icon-date">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path
                      d="M21 10H3M16 2V6M8 2V6M7.8 22H16.2C17.8802 22 18.7202 22 19.362 21.673C19.9265 21.3854 20.3854 20.9265 20.673 20.362C21 19.7202 21 18.8802 21 17.2V8.8C21 7.11984 21 6.27976 20.673 5.63803C20.3854 5.07354 19.9265 4.6146 19.362 4.32698C18.7202 4 17.8802 4 16.2 4H7.8C6.11984 4 5.27976 4 4.63803 4.32698C4.07354 4.6146 3.6146 5.07354 3.32698 5.63803C3 6.27976 3 7.11984 3 8.8V17.2C3 18.8802 3 19.7202 3.32698 20.362C3.6146 20.9265 4.07354 21.3854 4.63803 21.673C5.27976 22 6.11984 22 7.8 22Z"
                      stroke="#626262" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
                </div>
              </div> -->
              <!-- <div>
                <div class="text-common-black fw-500 pt-4 fs-14 pb-1">Nhóm phụ nhân viên</div>
                <app-combobox fieldName="" [dataSource]=""></app-combobox>
              </div> -->
              <div>
                <div class="text-common-black fw-500 pt-4 fs-14 pb-1">Tháng</div>
                <app-combobox selectedItem="DowCode ? DowCode[0] : ''" (clickItem)="onChangeDowCode($event)" fieldName="DowCode" [dataSource]="DowCode"></app-combobox>
              </div>
            </div>
            <div class="bottom">
              <div (click)="LoadLineReport(Filter.DowCode)" class="button-toolbar w-50 d-flex justify-content-center float-end">
                <!-- <span class="icon-General-101"></span> -->
                <span>Áp dụng</span>
              </div>
            </div>
            
        </div>
      </div>
      <div class="p-2" [ngStyle]="{'width': width + 'px'}">
        
        <div class="mt-2">
          <grid-view [totalItems]="TotalItems" (clickPage)="ClickPageEmp($event)" [template]="templateGrid"></grid-view>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #templateGrid>
  <ejs-grid #grid allowTextWrap='true' 
  [height]="height - 230" 
  [dataSource]='dataLine' 
  [allowExcelExport]='true' 
  (toolbarClick)='toolbarClick($event)'
  [toolbar]='toolbarOptions'
  (excelExportComplete)='excelExportComplete()'
  [allowSorting]="true">
    <e-columns>
      <e-column field="TenLine" headerText="Line" textAlign='Left' width=150>
        <ng-template #template let-item>
          <div class="text-start">{{item.TenLine}}</div>
        </ng-template>
      </e-column>

      <e-column field="NhaThau" headerText="Vendor" textAlign='Left' width=140>
        <ng-template #template let-item>
          <div class="text-start">{{item.NhaThau}}</div>
        </ng-template>
      </e-column>

      <e-column field="Thang" headerText="Tháng" textAlign='Left' width=140>
        <ng-template #template let-item>
          <span class="text-start">{{item.Thang}}</span>
        </ng-template>
      </e-column>

      <e-column field="TongSuDung" headerText="Tổng số xu sử dụng" width=180 textAlign='Left'>
        <ng-template #template let-item>
          <span class="text-start">{{item.TongSuDung}}</span>
        </ng-template>
      </e-column>
     
    </e-columns>
  </ejs-grid>
</ng-template>